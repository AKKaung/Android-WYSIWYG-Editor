<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Android-WYSIWYG-Editor by irshuLx</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Android-WYSIWYG-Editor</h1>
      <h2 class="project-tagline">An iframe free text editor written in Android using native components in the content tree. The library can be used as both Editor and Renderer. Integrate easily to work with web based WYSIWYG&#39;s.</h2>
      <a href="https://github.com/irshuLx/android-wysiwyg-editor" class="btn">View on GitHub</a>
      <a href="https://github.com/irshuLx/android-wysiwyg-editor/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/irshuLx/android-wysiwyg-editor/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="https://img.shields.io/badge/release-0.3.0-blue.svg" alt="enter image description here">  <img src="https://img.shields.io/badge/license-Apache%202-blue.svg" alt="enter image description here">  <img src="https://img.shields.io/badge/issues-0-green.svg" alt="enter image description here"></p>

<h1>
<a id="android-wysiwyg-editor" class="anchor" href="#android-wysiwyg-editor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Android-WYSIWYG-Editor</h1>

<p><strong>Android-WYSIWYG-Editor</strong> is an iframe free text editor that uses native components in the content tree.</p>

<h2>
<a id="download" class="anchor" href="#download" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download</h2>

<p>gradle:</p>

<pre><code>compile 'com.github.irshulx:android-wysiwyg-editor:0.3.2'
</code></pre>

<p>or maven:</p>

<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;com.github.irshulx&lt;/groupId&gt;
  &lt;artifactId&gt;android-wysiwyg-editor&lt;/artifactId&gt;
  &lt;version&gt;0.3.2&lt;/version&gt;
  &lt;type&gt;pom&lt;/type&gt;
&lt;/dependency&gt;
</code></pre>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h2>

<p>Demo APK can be download <a href="https://www.dropbox.com/s/xmqw2mj1ocj7wgt/laser-native-editor-demo.apk?dl=0">here</a>.</p>

<p><img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/gif-1.gif" alt="enter image description here">    <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/gif-2.gif" alt="enter image description here">    <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/gif-3.gif" alt="enter image description here">   <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/editor_screen_1.jpg" alt="enter image description here">    <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/editor_screen_2.jpg" alt="enter image description here">    <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/editor_screen_3.jpg" alt="enter image description here">  </p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li><p><strong>Renderer or Editor</strong>: You can use it as a <strong>Renderer</strong> to Render the content or use it as an <strong>Editor</strong> to create the content.</p></li>
<li><p><strong>No Webviews used</strong> to render the content. It uses Native EditText, ImageView and as such to render the contents.</p></li>
<li><p><strong>HTML Parser:</strong> Render your HTML Code into the editor and vice versa.</p></li>
<li><p><strong>Image Uploader Api:</strong> Use the Built-in API to upload the images to the server.</p></li>
<li><p><strong>Integration with web based WYSIWYG's:</strong> HTMLParser helps the Editor to work seemlessly with the WYSIWYG editor on your web platform.</p></li>
</ul>

<p>The editor is built, so that every part of the design have been exposed and is available for customization. You can define, how the editor should look like, and what are the controls, that should be available (the controls toolbar layout can also be created by yourself, just call the API methods on the click event).</p>

<p><strong>Available Controls:</strong></p>

<table>
<thead>
<tr>
<th align="left">Control</th>
<th align="center">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">
<code>H1</code>,  <code>H2</code> and <code>H3</code>
</td>
<td align="center">Insert Headings</td>
</tr>
<tr>
<td align="left">
<code>Bold</code>, <code>Italic</code>, <code>Intent</code> &amp; <code>Outdent</code>
</td>
<td align="center">Format the text</td>
</tr>
<tr>
<td align="left"><code>Image Picker</code></td>
<td align="center">Insert Images to the editor from storage or a URL</td>
</tr>
<tr>
<td align="left"><code>Hyperlinks</code></td>
<td align="center">Add Links to the editor</td>
</tr>
<tr>
<td align="left"><code>Location Selector</code></td>
<td align="center">Use the embedded map editor to tag and insert locations to the editor</td>
</tr>
<tr>
<td align="left">
<code>Numbered</code> and <code>Bulleted</code> Lists</td>
<td align="center">Let's you created Unorderd and Ordered lists</td>
</tr>
<tr>
<td align="left"><code>Line Divider</code></td>
<td align="center">Add a divider among paragraphs or Headings</td>
</tr>
<tr>
<td align="left"><code>Clear Content</code></td>
<td align="center">Remove all contents from the editor</td>
</tr>
</tbody>
</table>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>For a complete overview of the implementation, please take a look at <a href="https://github.com/irshuLx/android-wysiwyg-editor/blob/master/app/src/main/res/layout/activity_editor_test.xml">activity_editor_test.xml</a>, <a href="https://github.com/irshuLx/android-wysiwyg-editor/blob/master/app/src/main/java/com/example/mkallingal/qapp/EditorTestActivity.java">EditorTestActivity.java</a> and <a href="https://github.com/irshuLx/android-wysiwyg-editor/blob/master/laser-native-editor/src/main/res/layout/editor_toolbar_linearlayout_horizontal.xml">editor_toolbar_linearlayout_horizontal.xml</a>.</p>

<p><strong>Layout XML</strong></p>

<pre><code>&lt;com.github.irshulx.Editor
    android:layout_width="match_parent"
    android:id="@+id/editor"
    app:render_type="Editor"
    app:placeholder="Start writing here..."
    android:paddingTop="10dp"
    android:paddingLeft="10dp"
    android:paddingRight="10dp"
    android:layout_height="wrap_content"
    android:paddingBottom="100dp"
/&gt;
</code></pre>

<p><strong>Activity</strong></p>

<pre><code> @Override
 protected void onCreate(Bundle savedInstanceState) {

    _editor= (Editor) findViewById(R.id.editor);
    _editor.Render();

    // below are the API's you can use to insert content into the editor

    findViewById(R.id.action_header_1).setOnClickListener(new View.OnClickListener()   {
        @Override
        public void onClick(View v) {
            _editor.UpdateTextStyle(ControlStyles.H1);
        }
    });
    findViewById(R.id.action_bold).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.UpdateTextStyle(ControlStyles.BOLD);
        }
    });

    findViewById(R.id.action_Italic).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.UpdateTextStyle(ControlStyles.ITALIC);
        }
    });
    findViewById(R.id.action_bulleted).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.InsertList(false);
        }
    });
    findViewById(R.id.action_unordered_numbered).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.InsertList(true);
        }
    });
    findViewById(R.id.action_hr).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.InsertDivider();
        }
    });
    findViewById(R.id.action_insert_image).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.OpenImagePicker();
        }
    });
    findViewById(R.id.action_insert_link).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.InsertLink();
        }
    });
    findViewById(R.id.action_map).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.InsertMap();
        }
    });
     findViewById(R.id.action_erase).setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            _editor.clearAllContents();
        }
    });
}
</code></pre>

<p>If you are using <strong>Image Pickers</strong> or <strong>Map Marker Pickers</strong>, Add the following into your <strong>Activity</strong>:</p>

<pre><code> @Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

    if (requestCode == _editor.PICK_IMAGE_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK&amp;&amp; data != null &amp;&amp; data.getData() != null) {
        try {
            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), uri);
            _editor.InsertImage(bitmap);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    else if (resultCode == Activity.RESULT_CANCELED) {
        //Write your code if there's no result
        _editor.RestoreState();
    }
    else if(requestCode== _editor.MAP_MARKER_REQUEST){
        _editor.InsertMap(data.getStringExtra("cords"));
    }
}
</code></pre>

<h2>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API</h2>

<ul>
<li><p><code>Render();</code> Render the editor. This method must be called to render the editor.</p></li>
<li><p><code>Render(String html);</code> Render the editor with HTML as parameter.</p></li>
<li><p><code>Render(EditorState state);</code> Render the editor with the state as parameter</p></li>
<li><p><code>getContent();</code>  returns the content in the editor as <code>EditorState</code></p></li>
<li><p><code>getContentAsSerialized();</code> returns the content as serialized form of EditorState</p></li>
<li><p><code>getContentAsSerialized(EditorState state);</code> returns the provided parameter as serialized.</p></li>
<li><p><code>getContentAsHTML();</code> returns the editor content in HTML format. </p></li>
<li><p><code>UpdateTextStyle(EditorTextStyle style);</code> Update the text style for
the currently active block. Possible values are <code>H1,H2,H3,BOLD,ITALIC,INDENT and OUTDENT</code> .  </p></li>
<li><p><code>setH1TextSize(int size), setH2TextSize(int size) and setH3TextSize(int size);</code> Override the existing text sizes. There are getter methods as well to retrieve the existing text sizes for each.</p></li>
<li><p><code>setFontFace(int resource);</code> Sets the FontFace for the editor.</p></li>
<li><p><code>setLineSpacing(float value);</code> Sets the linespace for the editor.</p></li>
<li><p><code>OpenImagePicker();</code> Opens up the image picker. Once the user has selected the image, it's automatically inserted to the editor. But you must configure a remote URL ,where you want the image to be uploaded. If the Remote URL is not specifed, the image is not persisted.</p></li>
<li><p><code>InsertImage(Bitmap bitmap);</code> Insert a bitmap image into the editor.</p></li>
<li><p><code>setImageUploaderUri(String Url);</code>used to configure the remote URL ,where you want the image to be uploaded. This is compulsory if you are using the Image Picker.</p></li>
<li><p><code>setEditorImageLayout(int layout);</code> Override the default layout for images in the editor.</p></li>
<li><p><code>InsertList(boolean isOrdered);</code>Insert an Ordered or Unordered List.</p></li>
<li><p><code>setListItemLayout(int layout);</code> Override the default layout for list items.</p></li>
<li><p><code>InsertDivider();</code> Insert a line divider</p></li>
<li><p><code>setDividerLayout(int layout);</code> Override the default layout for dividers</p></li>
<li><p><code>InsertMap():</code> Fires up the google map location picker activity. Once the user has selected the location, the library will automatically insert the marker with the location into editor.</p></li>
<li><p><code>InsertMap(String Cords);</code> Insert the marker into the editor. The cordinates must be of string form,  <code>"LAT,LNG"</code></p></li>
<li>
<code>setMapViewLayout(int layout);</code> Override the default layout for maps in the editor</li>
</ul>

<h2>
<a id="available-fonts" class="anchor" href="#available-fonts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available Fonts</h2>

<p>You are free to set any of the below fonts as the default font for your editor.  To apply the font, use the API, for e.g: <code>_editor.setFontFace(R.string.fontFamily__cursive);</code></p>

<p><img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/font-style-1.jpg" alt="enter image description here">    <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/font-style-2.jpg" alt="enter image description here">    <img src="https://raw.githubusercontent.com/irshuLx/android-wysiwyg-editor/master/screens/font-style-3.jpg" alt="enter image description here">  </p>

<table>
<thead>
<tr>
<th align="left">Font Name</th>
<th align="center">Resource</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">serif</td>
<td align="center"><code>R.string.fontFamily__serif</code></td>
</tr>
<tr>
<td align="left">sans-serif</td>
<td align="center"><code>R.string.fontFamily__sans_serif</code></td>
</tr>
<tr>
<td align="left">sans-serif-light</td>
<td align="center"><code>R.string.fontFamily__sans_serif_light</code></td>
</tr>
<tr>
<td align="left">sans-serif-condensed</td>
<td align="center"><code>R.string.fontFamily__sans_serif_condensed</code></td>
</tr>
<tr>
<td align="left">sans-serif-thin</td>
<td align="center"><code>R.string.fontFamily__sans_serif_thin</code></td>
</tr>
<tr>
<td align="left">Serifsans-serif-medium</td>
<td align="center"><code>R.string.fontFamily__sans_serif_medium</code></td>
</tr>
<tr>
<td align="left">serif-monospace</td>
<td align="center"><code>R.string.fontFamily__serif_monospace</code></td>
</tr>
<tr>
<td align="left">casual</td>
<td align="center"><code>R.string.fontFamily__casual</code></td>
</tr>
<tr>
<td align="left">cursive</td>
<td align="center"><code>R.string.fontFamily__cursive</code></td>
</tr>
<tr>
<td align="left">monospace</td>
<td align="center"><code>R.string.fontFamily__monospace</code></td>
</tr>
</tbody>
</table>

<h2>
<a id="overridable-layouts" class="anchor" href="#overridable-layouts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overridable layouts</h2>

<p>You can create your own layouts with the same Id's with the required Id's and put them in your app's layout directory. App will then override the library's layout and pick the one from your app's layout directory. As of now, you can override the following layouts.</p>

<table>
<thead>
<tr>
<th align="left">Layout</th>
<th align="center">Description</th>
<th align="center">Required Id's</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="https://github.com/irshuLx/android-wysiwyg-editor/blob/master/laser-native-editor/src/main/res/layout/tmpl_image_view.xml">R.layout.tmpl_image_view</a></td>
<td align="center">Used to insert an image to the editor</td>
<td align="center">
<code>@+id/progress</code>, <code>@+id/lblStatus</code>,<code>@+id/imageView</code>,<code>@+id/btn_remove</code>
</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/irshuLx/android-wysiwyg-editor/blob/master/laser-native-editor/src/main/res/layout/tmpl_list_item.xml">R.layout.tmpl_list_item</a></td>
<td align="center">Used to insert an ordered/unordered list</td>
<td align="center">
<code>@+id/lblOrder</code>, <code>@+id/txtText</code>,<code>@+id/lblText</code>
</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/irshuLx/android-wysiwyg-editor/blob/master/laser-native-editor/src/main/res/layout/tmpl_divider_layout.xml">R.layout.tmpl_divider_layout</a></td>
<td align="center">Used to insert a line divider</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>You could also set the layouts via the API:</p>

<ul>
<li><p><code>_editor.setEditorImageLayout(R.layout.tmpl_image_view);</code></p></li>
<li><p><code>_editor.setListItemLayout(R.layout.tmpl_list_item);</code></p></li>
<li><p><code>_editor.setDividerLayout(R.layout.tmpl_divider_layout);</code></p></li>
</ul>

<h2>
<a id="image-upload" class="anchor" href="#image-upload" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Image Upload</h2>

<p>If your editor is to support image upload, you must configure your remote endpoint where the image will be posted to. The editor will issue a POST request with <code>Content-Type: multipart/form-data</code>. You can configure the endpoint through the API, for eg:
<code>_editor.setImageUploaderUri("www.myhost.com/files/post");</code>
Now every image inserted to the editor will issue a POST with the following signature:</p>

<pre><code>POST www.myhost.com/files/post HTTP/1.1
Content-Type: multipart/form-data; boundary=---------------------------7d81b516112482
Accept-Encoding: gzip, deflate
Content-Length: 324
</code></pre>

<p>If you are using ASP.NET Web API, your server wrapper would look something like this:</p>

<pre><code> public class filesApiController : ApiController
    {
        public async Task&lt;HttpResponseMessage&gt; Post()
        {
            var httpRequest = System.Web.HttpContext.Current.Request;
            if (httpRequest.Files.Count &gt; 0)
            {
                    var postedFile = httpRequest.Files[0];
                    String relativePath = "~/Blobs/" + postedFile.FileName;
                    var filePath = System.Web.HttpContext.Current.Server.MapPath(relativePath);
                    postedFile.SaveAs(filePath);
                  string uri=  ResolveServerUrl(VirtualPathUtility.ToAbsolute(relativePath));
                    // NOTE: To store in memory use postedFile.InputStream
                    return Request.CreateResponse(HttpStatusCode.Created, new { Uri = uri, ResponseCd =200});
            }
            return Request.CreateResponse(HttpStatusCode.BadRequest);
        }
}
</code></pre>

<p><strong>Note:</strong> Once the upload is complete, you must return the response in the following <code>JSON</code> format to let the ediitor grab the uri for the image:</p>

<p><code>{Uri:'the uri for the uploaded image', HttpStatusCode:'HTTP status code'}</code></p>

<p>`</p>

<h2>
<a id="adding-callback" class="anchor" href="#adding-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Adding Callback</h2>

<pre><code> _editor.setEditorListener(new BaseClass.EditorListener() {
            @Override
            public void onTextChanged(EditText editText, Editable text) {
               // Toast.makeText(EditorTestActivity.this, text,Toast.LENGTH_SHORT).show();
            }
        });
</code></pre>

<h2>
<a id="future-plans" class="anchor" href="#future-plans" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Future Plans</h2>

<ul>
<li><p>Insert quotes.</p></li>
<li><p>Improve and add more callbacks.</p></li>
<li><p>Address the issues and feature requests from fellow devs.</p></li>
</ul>

<p>Contributions are much appreciated, feel free to fork and customize for your needs.</p>

<p>If you come across any bugs or needs, please mention it on issues, i will address it and resolve it the latest possible.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<pre><code>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/irshuLx/android-wysiwyg-editor">Android-WYSIWYG-Editor</a> is maintained by <a href="https://github.com/irshuLx">irshuLx</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
